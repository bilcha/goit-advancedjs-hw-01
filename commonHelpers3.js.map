{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["const submitBtn = document.querySelector(\"button\");\nconst form = document.querySelector(\".feedback-form\");\n\nfunction setFieldsValue() {\n  const storageValue = JSON.parse(localStorage.getItem(\"feedback-form-state\"));\n  if (!storageValue) {\n    return;\n  }\n  for (const key in storageValue) {\n    form.elements[key].value = storageValue[key];\n  }\n}\nsetFieldsValue();\n\nsubmitBtn.addEventListener(\"click\", handlerSubmit); \n\nfunction handlerSubmit(evt) {\n  evt.preventDefault();\n  console.log(JSON.parse(localStorage.getItem(\"feedback-form-state\")));\n  localStorage.removeItem(\"feedback-form-state\");\n  form.reset();\n}\n\nform.addEventListener(\"input\", _.throttle(handlerInput, 500));\n\nfunction handlerInput(evt) {\n  const field = evt.target;\n  const storageValue = JSON.parse(localStorage.getItem(\"feedback-form-state\"));\n  if (!storageValue) {\n    const initFormValue = { email: \"\", message: \"\" };\n    initFormValue[field.name] = field.value;\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(initFormValue));\n  } else {\n    storageValue[field.name] = field.value;\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(storageValue));\n  }\n}"],"names":["submitBtn","form","setFieldsValue","storageValue","key","handlerSubmit","evt","handlerInput","field","initFormValue"],"mappings":"wFAAA,MAAMA,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,SAASC,GAAiB,CACxB,MAAMC,EAAe,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAC3E,GAAKA,EAGL,UAAWC,KAAOD,EAChBF,EAAK,SAASG,GAAK,MAAQD,EAAaC,EAE5C,CACAF,IAEAF,EAAU,iBAAiB,QAASK,CAAa,EAEjD,SAASA,EAAcC,EAAK,CAC1BA,EAAI,eAAc,EAClB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,CAAC,EACnE,aAAa,WAAW,qBAAqB,EAC7CL,EAAK,MAAK,CACZ,CAEAA,EAAK,iBAAiB,QAAS,EAAE,SAASM,EAAc,GAAG,CAAC,EAE5D,SAASA,EAAaD,EAAK,CACzB,MAAME,EAAQF,EAAI,OACZH,EAAe,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAC3E,GAAKA,EAKHA,EAAaK,EAAM,MAAQA,EAAM,MACjC,aAAa,QAAQ,sBAAuB,KAAK,UAAUL,CAAY,CAAC,MANvD,CACjB,MAAMM,EAAgB,CAAE,MAAO,GAAI,QAAS,EAAE,EAC9CA,EAAcD,EAAM,MAAQA,EAAM,MAClC,aAAa,QAAQ,sBAAuB,KAAK,UAAUC,CAAa,CAAC,CAC7E,CAIA"}