{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst submitBtn = document.querySelector(\"button\");\nconst form = document.querySelector(\".feedback-form\");\n\nfunction setFieldsValue() {\n  const storageValue = JSON.parse(localStorage.getItem(\"feedback-form-state\"));\n  if (!storageValue) {\n    return;\n  }\n  for (const key in storageValue) {\n    form.elements[key].value = storageValue[key];\n  }\n}\nsetFieldsValue();\n\nsubmitBtn.addEventListener(\"click\", handlerSubmit); \n\nfunction handlerSubmit(evt) {\n  evt.preventDefault();\n  const { email, message } = form.elements;\n  if (email.value.length > 0 && message.value.length > 0) {\n    console.log(JSON.parse(localStorage.getItem(\"feedback-form-state\")));\n    localStorage.removeItem(\"feedback-form-state\");\n    form.reset();\n  } else {\n    alert(\"Please fill all fields.\")\n  }\n}\n\nform.addEventListener(\"input\", throttle(handlerInput, 500));\n\nfunction handlerInput(evt) {\n  const field = evt.target;\n  const storageValue = JSON.parse(localStorage.getItem(\"feedback-form-state\"));\n  if (!storageValue) {\n    const initFormValue = { email: \"\", message: \"\" };\n    initFormValue[field.name] = field.value;\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(initFormValue));\n  } else {\n    storageValue[field.name] = field.value;\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(storageValue));\n  }\n}"],"names":["submitBtn","form","setFieldsValue","storageValue","key","handlerSubmit","evt","email","message","throttle","handlerInput","field","initFormValue"],"mappings":"wIAEA,MAAMA,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,SAASC,GAAiB,CACxB,MAAMC,EAAe,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAC3E,GAAKA,EAGL,UAAWC,KAAOD,EAChBF,EAAK,SAASG,GAAK,MAAQD,EAAaC,EAE5C,CACAF,IAEAF,EAAU,iBAAiB,QAASK,CAAa,EAEjD,SAASA,EAAcC,EAAK,CAC1BA,EAAI,eAAc,EAClB,KAAM,CAAE,MAAAC,EAAO,QAAAC,GAAYP,EAAK,SAC5BM,EAAM,MAAM,OAAS,GAAKC,EAAQ,MAAM,OAAS,GACnD,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,CAAC,EACnE,aAAa,WAAW,qBAAqB,EAC7CP,EAAK,MAAK,GAEV,MAAM,yBAAyB,CAEnC,CAEAA,EAAK,iBAAiB,QAASQ,EAASC,EAAc,GAAG,CAAC,EAE1D,SAASA,EAAaJ,EAAK,CACzB,MAAMK,EAAQL,EAAI,OACZH,EAAe,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAC3E,GAAKA,EAKHA,EAAaQ,EAAM,MAAQA,EAAM,MACjC,aAAa,QAAQ,sBAAuB,KAAK,UAAUR,CAAY,CAAC,MANvD,CACjB,MAAMS,EAAgB,CAAE,MAAO,GAAI,QAAS,EAAE,EAC9CA,EAAcD,EAAM,MAAQA,EAAM,MAClC,aAAa,QAAQ,sBAAuB,KAAK,UAAUC,CAAa,CAAC,CAC7E,CAIA"}